{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\waris\\\\Desktop\\\\projects\\\\gptboss\\\\client\\\\src\\\\pages\\\\Search.jsx\",\n  _s = $RefreshSig$();\nimport '../App.css';\nimport '../normal.css';\nimport { useState } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Search() {\n  _s();\n  const [chatLog, setChatLog] = useState([]);\n  const [question, setQuestion] = useState('');\n  const [text, setText] = useState('');\n  const [isLoading, setIsLoading] = useState(false);\n  function clearChat() {\n    setChatLog([]);\n  }\n  async function handleSubmit(e) {\n    e.preventDefault();\n    let chatLogNew = [...chatLog, {\n      user: \"me\",\n      message: `${input}`\n    }];\n    setInput('');\n    setChatLog(chatLogNew);\n    setIsLoading(true);\n    const messages = chatLogNew.map(message => message.message);\n    const response = await fetch('http://localhost:5000/api/chatbot', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        message: messages,\n        text: text\n      })\n    });\n    const data = await response.json();\n    await setChatLog([...chatLogNew, {\n      user: 'gpt',\n      message: data.bot_message\n    }]);\n    setIsLoading(false);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: [/*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: e => {\n        handleSubmit(e);\n        toggleInfoOff();\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        className: \"chat-input-question\",\n        value: question,\n        onChange: e => setQuestion(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        className: \"chat-input-text\",\n        value: text,\n        onChange: e => setText(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"submit\",\n        className: \"submit-btn\",\n        value: \"Send\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: chatLog\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 44,\n    columnNumber: 5\n  }, this);\n}\n_s(Search, \"IFAzvlbrEe2t11+dxLVVI46DuOY=\");\n_c = Search;\nexport default Search;\nvar _c;\n$RefreshReg$(_c, \"Search\");","map":{"version":3,"names":["useState","Search","chatLog","setChatLog","question","setQuestion","text","setText","isLoading","setIsLoading","clearChat","handleSubmit","e","preventDefault","chatLogNew","user","message","input","setInput","messages","map","response","fetch","method","headers","body","JSON","stringify","data","json","bot_message","toggleInfoOff","target","value"],"sources":["C:/Users/waris/Desktop/projects/gptboss/client/src/pages/Search.jsx"],"sourcesContent":["\r\nimport '../App.css';\r\nimport '../normal.css';\r\nimport { useState }  from 'react';\r\n\r\n\r\n\r\n\r\nfunction Search() {\r\n\r\n  const [chatLog, setChatLog] = useState([]);\r\n  const [question, setQuestion] = useState('');\r\n  const [text, setText] = useState('');\r\n  const [isLoading, setIsLoading] = useState(false);\r\n\r\nfunction clearChat() {\r\n  setChatLog([]);\r\n}\r\n\r\nasync function handleSubmit(e) {\r\n    e.preventDefault();\r\n    let chatLogNew = [...chatLog, { user: \"me\", message: `${input}`}];\r\n    setInput('');\r\n    setChatLog(chatLogNew);\r\n    setIsLoading(true);\r\n  \r\n    const messages = chatLogNew.map((message) => message.message);\r\n  \r\n    const response = await fetch('http://localhost:5000/api/chatbot', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type': 'application/json'\r\n      },\r\n      body: JSON.stringify({ message: messages, text: text})\r\n    });\r\n  \r\n    const data = await response.json();\r\n    await setChatLog([...chatLogNew, { user: 'gpt', message: data.bot_message }]);\r\n    setIsLoading(false);\r\n  }\r\n\r\n  return (\r\n    \r\n    <div className=\"App\">\r\n      <form onSubmit={(e) => {handleSubmit(e); toggleInfoOff();}}>\r\n        <input className='chat-input-question' value={question} onChange={e => setQuestion(e.target.value)} />\r\n        <input className='chat-input-text' value={text} onChange={e => setText(e.target.value)} />\r\n        <input type=\"submit\" className='submit-btn' value=\"Send\"/>\r\n      </form>\r\n      <div>{chatLog}</div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Search;\r\n"],"mappings":";;AACA,OAAO,YAAY;AACnB,OAAO,eAAe;AACtB,SAASA,QAAQ,QAAS,OAAO;AAAC;AAKlC,SAASC,MAAM,GAAG;EAAA;EAEhB,MAAM,CAACC,OAAO,EAAEC,UAAU,CAAC,GAAGH,QAAQ,CAAC,EAAE,CAAC;EAC1C,MAAM,CAACI,QAAQ,EAAEC,WAAW,CAAC,GAAGL,QAAQ,CAAC,EAAE,CAAC;EAC5C,MAAM,CAACM,IAAI,EAAEC,OAAO,CAAC,GAAGP,QAAQ,CAAC,EAAE,CAAC;EACpC,MAAM,CAACQ,SAAS,EAAEC,YAAY,CAAC,GAAGT,QAAQ,CAAC,KAAK,CAAC;EAEnD,SAASU,SAAS,GAAG;IACnBP,UAAU,CAAC,EAAE,CAAC;EAChB;EAEA,eAAeQ,YAAY,CAACC,CAAC,EAAE;IAC3BA,CAAC,CAACC,cAAc,EAAE;IAClB,IAAIC,UAAU,GAAG,CAAC,GAAGZ,OAAO,EAAE;MAAEa,IAAI,EAAE,IAAI;MAAEC,OAAO,EAAG,GAAEC,KAAM;IAAC,CAAC,CAAC;IACjEC,QAAQ,CAAC,EAAE,CAAC;IACZf,UAAU,CAACW,UAAU,CAAC;IACtBL,YAAY,CAAC,IAAI,CAAC;IAElB,MAAMU,QAAQ,GAAGL,UAAU,CAACM,GAAG,CAAEJ,OAAO,IAAKA,OAAO,CAACA,OAAO,CAAC;IAE7D,MAAMK,QAAQ,GAAG,MAAMC,KAAK,CAAC,mCAAmC,EAAE;MAChEC,MAAM,EAAE,MAAM;MACdC,OAAO,EAAE;QACP,cAAc,EAAE;MAClB,CAAC;MACDC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;QAAEX,OAAO,EAAEG,QAAQ;QAAEb,IAAI,EAAEA;MAAI,CAAC;IACvD,CAAC,CAAC;IAEF,MAAMsB,IAAI,GAAG,MAAMP,QAAQ,CAACQ,IAAI,EAAE;IAClC,MAAM1B,UAAU,CAAC,CAAC,GAAGW,UAAU,EAAE;MAAEC,IAAI,EAAE,KAAK;MAAEC,OAAO,EAAEY,IAAI,CAACE;IAAY,CAAC,CAAC,CAAC;IAC7ErB,YAAY,CAAC,KAAK,CAAC;EACrB;EAEA,oBAEE;IAAK,SAAS,EAAC,KAAK;IAAA,wBAClB;MAAM,QAAQ,EAAGG,CAAC,IAAK;QAACD,YAAY,CAACC,CAAC,CAAC;QAAEmB,aAAa,EAAE;MAAC,CAAE;MAAA,wBACzD;QAAO,SAAS,EAAC,qBAAqB;QAAC,KAAK,EAAE3B,QAAS;QAAC,QAAQ,EAAEQ,CAAC,IAAIP,WAAW,CAACO,CAAC,CAACoB,MAAM,CAACC,KAAK;MAAE;QAAA;QAAA;QAAA;MAAA,QAAG,eACtG;QAAO,SAAS,EAAC,iBAAiB;QAAC,KAAK,EAAE3B,IAAK;QAAC,QAAQ,EAAEM,CAAC,IAAIL,OAAO,CAACK,CAAC,CAACoB,MAAM,CAACC,KAAK;MAAE;QAAA;QAAA;QAAA;MAAA,QAAG,eAC1F;QAAO,IAAI,EAAC,QAAQ;QAAC,SAAS,EAAC,YAAY;QAAC,KAAK,EAAC;MAAM;QAAA;QAAA;QAAA;MAAA,QAAE;IAAA;MAAA;MAAA;MAAA;IAAA,QACrD,eACP;MAAA,UAAM/B;IAAO;MAAA;MAAA;MAAA;IAAA,QAAO;EAAA;IAAA;IAAA;IAAA;EAAA,QAChB;AAEV;AAAC,GA5CQD,MAAM;AAAA,KAANA,MAAM;AA8Cf,eAAeA,MAAM;AAAC;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}